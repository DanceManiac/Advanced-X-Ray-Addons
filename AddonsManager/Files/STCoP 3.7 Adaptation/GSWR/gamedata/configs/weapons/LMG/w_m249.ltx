; Пулемет M249
;-(TrickSR, Ga2z)-----------------------------------------
; калибр 									5.56x45 мм
; длина ствола 								465 мм
; магазин									100, 200 на ленте
; вес без магазина							7.50 кг
; вес с пустым магазином на 100 патронов	7.68 кг
; вес с пустым магазином на 200 патронов	7.78 кг
; максимальная дальность стрельбы			3600 м
; эффективная дальность стрельбы			600 м
; прицельная дальность						600 м
; дульная скорость пули						920 м/с
; темп стрельбы								700-1150 в/м
;---------------------------------------------------
[wpn_m249]:weapon_probability,default_weapon_params,wpn_m249_sounds
GroupControlSection							= spawn_group
$spawn										= "weapons\m249"
$npc										= on
$prefetch									= 8
scheduled									= off
cform										= skeleton
class										= WP_AK74

description									= st_wpn_m249_descr

scopes 										= ac10632,acog,aimpoint,eot,pn23
parent_section  							= wpn_m249

ef_main_weapon_type							= 2
ef_weapon_type								= 10

sprint_allowed								= true

bullet_bones        						= bullet_1,bullet_2,bullet_3,bullet_4,bullet_5,bullet_6,bullet_7,bullet_8,bullet_9,bullet_10,bullet_11,bullet_12,bullet_13,bullet_14,bullet_15,bullet_16

inv_name									= st_wpn_m249
inv_name_short								= st_wpn_m249

inv_grid_width								= 5
inv_grid_height								= 2
inv_grid_x									= 25
inv_grid_y									= 28

upgr_icon_x									= 600
upgr_icon_y									= 1800
upgr_icon_width								= 300
upgr_icon_height 							= 100

kill_msg_x									= 80
kill_msg_y									= 59
kill_msg_width								= 87
kill_msg_height								= 24

cost										= 50000
weapon_class								= heavy_weapon
inv_weight									= 7.68
hud											= wpn_m249_hud
visual										= dynamics\weapons\wpn_m249\wpn_m249.ogf

upgrades               		 				= up_gr_firstab_pkm, up_gr_seconab_pkm, up_gr_thirdab_pkm, up_gr_fourtab_pkm, up_gr_fifthab_pkm
installed_upgrades      					=
upgrade_scheme          					= upgrade_scheme_pkm

ph_mass										= 8

ammo_class		 							= ammo_5.56x45_ss190, ammo_5.56x45_ap	

startup_ammo								= 100
ammo_current								= 600
ammo_elapsed								= 100
ammo_limit									= 700
ammo_mag_size								= 100

fire_modes									= 15, -1

grenade_class								= ammo_m209

launch_speed								= 0
hand_dependence								= 1
single_handed								= 0

hit_power									= 0.5
;hit_impulse								= 10
hit_type									= fire_wound
fire_distance								= 1000
bullet_speed								= 920
rpm											= 800
rpm_empty_click								= 200

use_aim_bullet								= false
time_to_aim									= 5

misfire_probability							= 0.005
misfire_start_condition						= 0.6
misfire_end_condition						= 0.1
misfire_start_prob	 						= 0.002
misfire_end_prob	 						= 0.03
condition_shot_dec							= 0.0008
condition_queue_shot_dec					= 0.001

zoom_dof									= 0.5,1,180
reload_dof									= 0,0.5,5, 1.7

fire_dispersion_base						= 0.35
fire_dispersion_condition_factor			= 2
control_inertion_factor						= 1.85f
crosshair_inertion							= 7.50

cam_return									= 0
cam_relax_speed								= 15
cam_relax_speed_ai							= 360
cam_dispersion								= 0.33
cam_dispersion_inc							= 0.23
cam_dispersion_frac							= 1.0
cam_max_angle								= 10.0
cam_max_angle_horz							= 50.0
cam_step_angle_horz							= 0.25

zoom_cam_relax_speed						= 15
zoom_cam_relax_speed_ai						= 360
zoom_cam_dispersion							= 0.23
zoom_cam_dispersion_inc						= 0.18
zoom_cam_dispersion_frac					= 0.7
zoom_cam_max_angle							= 10
zoom_cam_max_angle_horz						= 50
zoom_cam_step_angle_horz					= 0.3

PDM_disp_base								= 1
PDM_disp_vel_factor							= 3
PDM_disp_accel_factor						= 3
PDM_disp_crouch								= 1
PDM_disp_crouch_no_acc						= 1

min_radius									= 30
max_radius									= 90

holder_range_modifier						= 1
holder_fov_modifier							= 1

hit_probability_gd_novice					= 0.45
hit_probability_gd_stalker					= 0.55
hit_probability_gd_veteran					= 0.65
hit_probability_gd_master					= 0.75

slot										= 2
animation_slot								= 2

position                   					= -0.026, -0.130, -0.01
orientation                					= 0.0, 0.0, 0.0

fire_point             	 					= 0.0, 0.215, 0.7
fire_point2             					= 0.0, 0.215, 0.7

flame_particles								= weapons\generic_weapon05
smoke_particles								= ghost_particles\weapons\flame_eft_00_test
grenade_flame_particles						= weapons\generic_weapon01
silencer_smoke_particles   					= ghost_particles\weapons\generic_smoke_eft_sil

shell_point									= -0.02,0.167,0.082
shell_dir									= 0,0,0.4
shell_particles	 							= weapons\556x45

strap_position								= -0.26,-0.11,0.25
strap_orientation							= -15,-9,110
strap_bone0									= bip01_spine2
strap_bone1									= bip01_spine1

light_disabled								= false
light_color									= 0.6,0.5,0.3
light_range									= 5
light_var_color								= 0.05
light_var_range								= 0.5
light_time									= 0.2

scope_status								= 2
silencer_status								= 2
grenade_launcher_status						= 0

zoom_enabled								= true
zoom_rotate_time							= 0.3
scope_zoom_factor							= 83.3

scope_name									= acog
scope_x										= 83
scope_y										= 2

silencer_name								= sil_556
silencer_x									= 205
silencer_y									= 20

silencer_hit_power							= 0.49
;silencer_hit_impulse						= 10
silencer_fire_distance						= 500
silencer_bullet_speed						= 800

silencer_light_color						= 0.6,0.5,0.3
silencer_light_range						= 0.01
silencer_light_var_color					= 0.05
silencer_light_var_range					= 0.5
silencer_light_time							= 0.2

[wpn_m249_hud]:hud_base
zoom_hide_crosshair     					= true
attach_place_idx        					= 0
item_visual             					= dynamics\weapons\wpn_m249\wpn_m249_hud.ogf

hands_orientation                			= 0.0026, -0.001066, 0.005066
hands_orientation_16x9           			= 0.0026, -0.001066, 0.005066
		
hands_position                   			= 0.00096, -0.000142, 0.03
hands_position_16x9              			= -0.03096, -0.000142, 0.03

item_position								= 0,0,0
item_orientation							= 0,0,0

aim_hud_offset_pos							= -0.062029,0.025583,-0.08
aim_hud_offset_rot							= -0.001142,-0.000106,-0.000284

aim_hud_offset_pos_16x9						= -0.062029,0.025583,-0.08
aim_hud_offset_rot_16x9						= -0.001142,-0.000106,-0.000284

shell_bone                              	= palak
shell_dir                                	= 0, 0, 0
shell_point                      		 	= 0, 0, -2.552033

fire_bone                                	= muzzle
fire_bone2                               	= muzzle
fire_point                       		 	= 0.039422, -0.019473, 0.340718
fire_point2                              	= 0.039422, -0.019473, 0.340718

anm_hide									= m249_hand_holster, m249_idle
anm_idle									= m249_hand_idle, m249_idle
anm_idle_aim								= m249_hand_idle_aim, m249_idle
anm_idle_aim_moving							= m249_hand_moving, m249_idle, 0.6
anm_idle_aim_moving_slow					= m249_hand_moving, m249_idle, 0.5
anm_idle_aim_moving_crouch					= m249_hand_moving, m249_idle, 0.4
anm_idle_aim_moving_crouch_slow				= m249_hand_moving, m249_idle, 0.3
anm_idle_moving							 	= m249_hand_moving, m249_idle, 0.9
anm_idle_moving_slow					 	= m249_hand_moving, m249_idle, 0.8
anm_idle_moving_crouch					 	= m249_hand_moving, m249_idle, 0.6
anm_idle_moving_crouch_slow					= m249_hand_moving, m249_idle, 0.4
anm_idle_sprint							 	= m249_hand_sprint, m249_idle, 1.1
anm_reload								 	= m249_hand_reload, m249_reload
anm_reload_empty						 	= m249_hand_reload_empty, m249_reload_empty
anm_reload_misfire						 	= m249_hand_unjam, m249_unjam
anm_shots								 	= m249_hand_shoot, m249_shoot
anm_shots_variant1						 	= m249_hand_shoot1, m249_shoot
anm_shots_aim							 	= m249_hand_shoot_aim, m249_shoot
anm_shots_aim_scope							= m249_hand_shoot_aim, m249_shoot
anm_shots_last_aim_scope					= m249_hand_shoot_aim, m249_shoot_last
anm_show								 	= m249_hand_draw, m249_idle
anm_bore									= m249_hand_idle, m249_idle

anm_hide_empty                     		 	= m249_hand_holster, m249_idle_empty
anm_idle_empty                     			= m249_hand_idle, m249_idle_empty
anm_idle_aim_empty                 			= m249_hand_idle_aim, m249_idle_empty
anm_idle_aim_moving_empty					= m249_hand_moving, m249_idle_empty, 0.6
anm_idle_aim_moving_slow_empty				= m249_hand_moving, m249_idle_empty, 0.5
anm_idle_aim_moving_crouch_empty			= m249_hand_moving, m249_idle_empty, 0.4
anm_idle_aim_moving_crouch_slow_empty		= m249_hand_moving, m249_idle_empty, 0.3
anm_idle_moving_empty						= m249_hand_moving, m249_idle_empty, 0.9
anm_idle_moving_slow_empty					= m249_hand_moving, m249_idle_empty, 0.8
anm_idle_moving_crouch_empty				= m249_hand_moving, m249_idle_empty, 0.6
anm_idle_moving_crouch_slow_empty			= m249_hand_moving, m249_idle_empty, 0.4
anm_idle_sprint_empty              		 	= m249_hand_sprint, m249_idle_empty, 1.1
anm_shot_l                         		 	= m249_hand_shoot, m249_shoot_last
anm_show_empty                     		 	= m249_hand_draw, m249_idle_empty
anm_shots_last_aim                    		= m249_hand_shoot_aim, m249_shoot_last
anm_reload_misfire_empty				 	= m249_hand_unjam_charge, m249_unjam_charge_empty
anm_bore_empty                     			= m249_hand_idle, m249_idle_empty

gl_hud_offset_pos                        	= 0, 0, 0
gl_hud_offset_pos_16x9                   	= 0, 0, 0
gl_hud_offset_rot                        	= 0, 0, 0
gl_hud_offset_rot_16x9                   	= 0, 0, 0

lean_hud_offset_pos                      	= 0, 0, 0
lean_hud_offset_rot                      	= 0, 0, 0

freelook_z_offset_mul					 	= 0.4
;-----------------------------------------------------------------------------
; Аддоны
;-----------------------------------------------------------------------------
[wpn_m249_ac10632]:wpn_m249
$spawn             							= "weapons\m249_ac10632"
visual										= dynamics\weapons\wpn_m249\wpn_m249_barska.ogf
hud											= wpn_m249_ac10632_hud

scope_x										= 82
scope_y										= 0

[wpn_m249_ac10632_hud]:wpn_m249_hud
item_visual            	 					= dynamics\weapons\wpn_m249\wpn_m249_barska_hud.ogf

aim_hud_offset_pos							= -0.062029,0.000583,-0.13
aim_hud_offset_rot							= 0.008758,0.001794,-0.000284

aim_hud_offset_pos_16x9						= -0.062029,0.000583,-0.13
aim_hud_offset_rot_16x9						= 0.008758,0.001794,-0.000284

[wpn_m249_acog]:wpn_m249
$spawn										= "weapons\m249_acog"
hud											= wpn_m249_acog_hud

scope_x										= 75
scope_y										= -1

[wpn_m249_acog_hud]:wpn_m249_hud
item_visual									= dynamics\weapons\wpn_m249\wpn_m249_acog_hud.ogf

aim_hud_offset_pos							= -0.062029,-0.002417,-0.15
aim_hud_offset_rot							= -0.002642,0.001594,-0.000284

aim_hud_offset_pos_16x9						= -0.062029,-0.002417,-0.15
aim_hud_offset_rot_16x9						= -0.002642,0.001594,-0.000284

[wpn_m249_eot]:wpn_m249
$spawn										= "weapons\m249_eot"
visual										= dynamics\weapons\wpn_m249\wpn_m249_eot.ogf
hud											= wpn_m249_eot_hud

scope_x										= 81
scope_y										= -1

[wpn_m249_eot_hud]:wpn_m249_hud
item_visual									= dynamics\weapons\wpn_m249\wpn_m249_eot_hud.ogf

aim_hud_offset_pos							= -0.062129,-0.004717,-0.113366
aim_hud_offset_rot							= 0.006108,0.001144,-0.000284

aim_hud_offset_pos_16x9						= -0.062129,-0.004717,-0.113366
aim_hud_offset_rot_16x9						= 0.006108,0.001144,-0.000284

[wpn_m249_aimpoint]:wpn_m249
$spawn										= "weapons\m249_aimpoint"
visual										= dynamics\weapons\wpn_m249\wpn_m249_aimpoint.ogf
hud											= wpn_m249_aimpoint_hud

scope_x										= 84
scope_y										= -4

[wpn_m249_aimpoint_hud]:wpn_m249_hud
item_visual									= dynamics\weapons\wpn_m249\wpn_m249_aimpoint_hud.ogf

aim_hud_offset_pos							= -0.063029,-0.008417,-0.177200
aim_hud_offset_rot							= 0.001108,0.002444,-0.000284

aim_hud_offset_pos_16x9						= -0.063029,-0.008417,-0.177200
aim_hud_offset_rot_16x9						= 0.001108,0.002444,-0.000284

[wpn_m249_pn23]:wpn_m249
$spawn										= "weapons\m249_pn23"
visual										= dynamics\weapons\wpn_m249\wpn_m249_pn23.ogf
hud											= wpn_m249_pn23_hud

scope_x										= 54
scope_y										= -3

[wpn_m249_pn23_hud]:wpn_m249_hud
item_visual									= dynamics\weapons\wpn_m249\wpn_m249_pn23_hud.ogf

aim_hud_offset_pos							= -0.062029,-0.012917,-0.112366
aim_hud_offset_rot							= 0.000508,-0.000806,-0.000284

aim_hud_offset_pos_16x9						= -0.062029,-0.012917,-0.112366
aim_hud_offset_rot_16x9						= 0.000508,-0.000806,-0.000284
