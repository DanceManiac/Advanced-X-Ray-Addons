; Пистолет-пулемет Heckler-Koch MP5A3
;-(TrickSR, Ga2z)-----------------------------------------
; калибр 									9х19 мм
; длина ствола 								225 мм
; магазин									30
; вес с пустым магазином					3.1 кг
; максимальная дальность стрельбы			1700 м
; эффективная дальность стрельбы			100 м
; прицельная дальность						200 м
; дульная скорость пули						400 м/с
; темп стрельбы								800 в/м
;---------------------------------------------------
[wpn_mp5]:weapon_probability,default_weapon_params,wpn_mp5_sounds
GroupControlSection 						= spawn_group
$spawn										= "weapons\mp5"
$npc										= on
$prefetch									= 8
scheduled									= off
cform										= skeleton
class										= WP_LR300
description 								= st_wpn_mp5_descr

scopes 										= ac10632,acog,aimpoint,eot,pn23
parent_section  							= wpn_mp5

ef_main_weapon_type							= 2
ef_weapon_type								= 6

inv_name									= st_wpn_mp5
inv_name_short								= st_wpn_mp5

inv_grid_width								= 4
inv_grid_height								= 2
inv_grid_x									= 24
inv_grid_y									= 32

upgr_icon_x									= 900
upgr_icon_y									= 500
upgr_icon_width								= 250
upgr_icon_height 							= 100

kill_msg_x									= 72
kill_msg_y									= 82
kill_msg_width								= 56
kill_msg_height								= 23

cost										= 5000
weapon_class								= assault_rifle
inv_weight									= 3.1
hud											= wpn_mp5_hud
visual										= dynamics\weapons\wpn_mp5\wpn_mp5.ogf

upgrades                					= up_gr_firstab_mp5, up_gr_seconab_mp5, up_gr_thirdab_mp5, up_gr_fourtab_mp5, up_gr_fifthab_mp5, up_gr_fifthcd_mp5
installed_upgrades      					=
upgrade_scheme          					= upgrade_scheme_mp5

ph_mass										= 3

ammo_class									= ammo_9x19_fmj, ammo_9x19_pbp

startup_ammo								= 90
ammo_current		 						= 180
ammo_elapsed		 						= 30
ammo_limit		 							= 210
ammo_mag_size		 						= 30

fire_modes									= 1, -1

grenade_class								= ammo_vog-25
	
launch_speed								= 0
hand_dependence								= 1
single_handed								= 0

hit_power									= 0.25
;hit_impulse								= 10
hit_type									= fire_wound
fire_distance								= 1000
bullet_speed								= 400
rpm											= 800
rpm_empty_click								= 200

use_aim_bullet								= false
time_to_aim									= 3

misfire_probability							= 0.005
misfire_start_condition						= 0.6
misfire_end_condition						= 0.1
misfire_start_prob	 						= 0.004
misfire_end_prob	 						= 0.057
condition_shot_dec 							= 0.0012
condition_queue_shot_dec					= 0.0014

zoom_dof									= 0.5,1,180
reload_dof									= 0,0.5,5,2

fire_dispersion_base						= 0.28
fire_dispersion_condition_factor			= 2.5
control_inertion_factor						= 1.15f
crosshair_inertion 							= 4.35

cam_return									= 0
cam_relax_speed								= 5
cam_relax_speed_ai							= 120.75
cam_dispersion								= 0.5
cam_dispersion_inc							= 0.25
cam_dispersion_frac							= 1
cam_max_angle								= 50
cam_max_angle_horz							= 50
cam_step_angle_horz							= 1.5

zoom_cam_relax_speed						= 10
zoom_cam_relax_speed_ai						= 120.75
zoom_cam_dispersion							= 0.5
zoom_cam_dispersion_inc						= 0.25
zoom_cam_dispersion_frac					= 1
zoom_cam_max_angle							= 50
zoom_cam_max_angle_horz						= 50
zoom_cam_step_angle_horz					= 1.5

PDM_disp_base 								= 0.5
PDM_disp_vel_factor 						= 1.5
PDM_disp_accel_factor 						= 1.5
PDM_disp_crouch	 							= 1
PDM_disp_crouch_no_acc 						= 1

min_radius									= 30
max_radius									= 40

holder_range_modifier						= 1
holder_fov_modifier							= 1

slot										= 2
animation_slot								= 8

position									= -0.026,-0.115,-0.03
orientation									= 0,-4,0

fire_point									= 0,0.195,0.392
fire_point2									= 0,0.195,0.392

flame_particles								= weapons\generic_weapon05
smoke_particles        						= ghost_particles\weapons\flame_eft_ak
silencer_smoke_particles   					= ghost_particles\weapons\generic_smoke_eft_sil

shell_point									= 0,0.188,0.082
shell_dir									= 0,1,0
shell_particles	 							= ghost_particles\weapons\shells\shells_9x19_right

strap_position 								= -0.16,-0.36,0.15
strap_orientation 							= -10,-5,10
strap_bone0									= bip01_spine2
strap_bone1									= bip01_spine1

light_disabled								= false
light_color									= 0.6,0.5,0.3
light_range									= 5
light_var_color								= 0.05
light_var_range								= 0.5
light_time									= 0.2

scope_status								= 2
silencer_status								= 2
grenade_launcher_status						= 0

zoom_enabled								= true
zoom_rotate_time							= 0.2
scope_zoom_factor							= 83.3

scope_name 									= wpn_addon_scope_susat
scope_x                     				= 67
scope_y                     				= -1

silencer_name								= wpn_addon_silencer
silencer_x                  				= 173
silencer_y                  				= 15

silencer_hit_power 							= 0.22
;silencer_hit_impulse						= 10
silencer_fire_distance 						= 500
silencer_bullet_speed	 					= 290

silencer_light_color						= 0.6, 0.5, 0.3
silencer_light_range						= 0.01
silencer_light_var_color					= 0.05
silencer_light_var_range					= 0.5
silencer_light_time							= 0.2

[wpn_mp5_hud]:hud_base
zoom_hide_crosshair     					= true
attach_place_idx        					= 0
item_visual            	 					= dynamics\weapons\wpn_mp5\wpn_mp5_hud.ogf

hands_position								= -0.039038,0.017609,-0.090834
hands_orientation							= 0.817004,1.281340,0

hands_position_16x9							= -0.039038,0.017609,-0.090834
hands_orientation_16x9						= 0.817004,1.281340,0

item_position								= 0,0,0
item_orientation							= 0,0,0

aim_hud_offset_pos							= 0.041891,-0.011561,-0.044499
aim_hud_offset_rot							= 0.020195,0.014258,0.000000

aim_hud_offset_pos_16x9						= 0.041891,-0.011561,-0.044499
aim_hud_offset_rot_16x9						= 0.020195,0.014258,0.000000

shell_bone									= wpn_body
shell_dir									= 0,1,0
shell_point									= 0,-0.03,0.1

fire_bone									= wpn_body
fire_bone2									= wpn_body
fire_point									= 0,0,0.35
fire_point2									= 0,0,0.35

anm_show									= teivazmp_draw
anm_hide									= teivazmp_hide
anm_idle									= teivazmp_idle
anm_idle_aim								= teivazmp_aim
;anm_idle_aim_moving						= teivazmp_idle,, 3.5
;anm_idle_aim_moving_slow					= teivazmp_idle,, 3
;anm_idle_aim_moving_crouch					= teivazmp_idle,, 2.5
;anm_idle_aim_moving_crouch_slow			= teivazmp_idle,, 2
anm_idle_moving								= teivazmp_walk
anm_idle_moving_slow						= teivazmp_walk,, 0.8
anm_idle_moving_crouch						= teivazmp_walk,, 0.6
anm_idle_moving_crouch_slow					= teivazmp_walk,, 0.4
anm_idle_sprint								= teivazmp_sprint
anm_shots									= teivazmp_shoot
anm_shot_l									= teivazmp_shoot
anm_shots_aim								= teivazmp_aim_shoot
anm_shots_last_aim							= teivazmp_aim_shoot
anm_shots_aim_scope							= teivazmp_aim_shoot
anm_shots_last_aim_scope					= teivazmp_aim_shoot
anm_reload									= teivazmp_reload, mp5_reload
anm_reload_empty							= teivazmp_reload_full, mp5_reload_empty
anm_reload_misfire							= teivazmp_reload_jammed, mp5_revival
anm_bore									= teivazmp_idle
anm_changefiremode                 			= teivazmp_fire_mode, idle
anm_changefiremode_empty             		= teivazmp_fire_mode, idle
anm_idle_aim_start	          				= teivazmp_aim_start, idle
anm_idle_aim_end		         			= teivazmp_aim_end, idle

anm_hide_jammed                   			= teivazmp_hide, idle_jammed         
anm_idle_jammed                   			= teivazmp_idle, idle_jammed
anm_idle_aim_jammed             			= teivazmp_aim, idle_jammed
;anm_idle_aim_moving_jammed       			= teivazmp_walk, idle_jammed, 0.6
;anm_idle_aim_moving_slow_jammed  			= teivazmp_walk, idle_jammed, 0.5
;anm_idle_aim_moving_crouch_jammed  		= teivazmp_walk, idle_jammed, 0.4
;anm_idle_aim_moving_crouch_slow_jammed  	= teivazmp_walk, idle_jammed, 0.3
anm_idle_moving_jammed            			= teivazmp_walk, idle_jammed
anm_idle_moving_slow_jammed      			= teivazmp_walk, idle_jammed, 0.8
anm_idle_moving_crouch_jammed      			= teivazmp_walk, idle_jammed, 0.6
anm_idle_moving_crouch_slow_jammed  		= teivazmp_walk, idle_jammed, 0.4
anm_idle_sprint_jammed            			= teivazmp_sprint, idle_jammed
anm_show_jammed                  			= teivazmp_draw, idle_jammed
anm_idle_aim_start_jammed          			= teivazmp_aim_start, idle_jammed
anm_idle_aim_end_jammed           			= teivazmp_aim_end, idle_jammed
anm_changefiremode_jammed             		= teivazmp_fire_mode, idle_jammed

;--- Переходы спринта---

anm_idle_sprint_start             			= teivazmp_sprint_start
anm_idle_sprint_end               			= teivazmp_sprint_end
anm_idle_sprint_start_jammed      			= teivazmp_sprint_start, idle_jammed   
anm_idle_sprint_end_jammed        			= teivazmp_sprint_end, idle_jammed

;--- Паттерны спринта---

ts_pattern_idle_sprint_start      			= .+, anm_idle_sprint, anm_idle_sprint_start, 1
ts_pattern_idle_sprint_end        			= anm_idle_sprint, ^anm_idle.*, anm_idle_sprint_end
ts_strict_idle_sprint_end_move    			= anm_idle_sprint_start, anm_idle_moving, anm_idle_sprint_end 

gl_hud_offset_pos 							= 0,0,0
gl_hud_offset_rot 							= 0,0,0

gl_hud_offset_pos_16x9 						= 0,0,0
gl_hud_offset_rot_16x9 						= 0,0,0

lean_hud_offset_pos        					= 0,0,0
lean_hud_offset_rot        					= 0,0,0
;-----------------------------------------------------------------------------
; Addons
;-----------------------------------------------------------------------------
[wpn_mp5_ac10632]:wpn_mp5
$spawn             							= "weapons\mp5_ac10632"
visual										= dynamics\weapons\wpn_mp5\wpn_mp5_barska.ogf
hud											= wpn_mp5_ac10632_hud

scope_x										= 73
scope_y										= -5

[wpn_mp5_ac10632_hud]:wpn_mp5_hud
item_visual            	 					= dynamics\weapons\wpn_mp5\wpn_mp5_barska_hud.ogf

aim_hud_offset_pos							= 0.041981,-0.032831,-0.047582
aim_hud_offset_rot							= 0.046495,0.014808,0.000000

aim_hud_offset_pos_16x9						= 0.041981,-0.032831,-0.047582
aim_hud_offset_rot_16x9						= 0.046495,0.014808,0.000000

[wpn_mp5_acog]:wpn_mp5
$spawn										= "weapons\mp5_acog"
hud											= wpn_mp5_acog_hud

scope_x										= 75
scope_y										= -4

[wpn_mp5_acog_hud]:wpn_mp5_hud
aim_hud_offset_pos							= 0.043381,-0.033531,-0.055000
aim_hud_offset_rot							= 0.019145,0.008858,0.000000

aim_hud_offset_pos_16x9						= 0.043381,-0.033531,-0.055000
aim_hud_offset_rot_16x9						= 0.019145,0.008858,0.000000

[wpn_mp5_aimpoint]:wpn_mp5
$spawn										= "weapons\mp5_aimpoint"
visual										= dynamics\weapons\wpn_mp5\wpn_mp5_aimpoint.ogf
hud											= wpn_mp5_aimpoint_hud

scope_x										= 90
scope_y										= -5

[wpn_mp5_aimpoint_hud]:wpn_mp5_hud
item_visual									= dynamics\weapons\wpn_mp5\wpn_mp5_aimpoint_hud.ogf

aim_hud_offset_pos							= 0.041481,-0.044731,-0.058000
aim_hud_offset_rot							= 0.023395,0.015808,0.000000

aim_hud_offset_pos_16x9						= 0.041481,-0.044731,-0.058000
aim_hud_offset_rot_16x9						= 0.023395,0.015808,0.000000

[wpn_mp5_eot]:wpn_mp5
$spawn										= "weapons\mp5_eot"
visual										= dynamics\weapons\wpn_mp5\wpn_mp5_eot.ogf
hud											= wpn_mp5_eot_hud

scope_x										= 79
scope_y										= -3

[wpn_mp5_eot_hud]:wpn_mp5_hud
item_visual									= dynamics\weapons\wpn_mp5\wpn_mp5_eot_hud.ogf

aim_hud_offset_pos							= 0.041851,-0.033111,-0.051000
aim_hud_offset_rot							= 0.055345,0.014508,0.000000

aim_hud_offset_pos_16x9						= 0.041851,-0.033111,-0.051000
aim_hud_offset_rot_16x9						= 0.055345,0.014508,0.000000

[wpn_mp5_pn23]:wpn_mp5
$spawn										= "weapons\mp5_pn23"
visual										= dynamics\weapons\wpn_mp5\wpn_mp5_pn23.ogf
hud											= wpn_mp5_pn23_hud

scope_x										= 49
scope_y										= -6

[wpn_mp5_pn23_hud]:wpn_mp5_hud
item_visual									= dynamics\weapons\wpn_mp5\wpn_mp5_pn23_hud.ogf

aim_hud_offset_pos							= 0.042381,-0.047431,-0.034000
aim_hud_offset_rot							= 0.017595,0.009758,0.000000

aim_hud_offset_pos_16x9						= 0.042381,-0.047431,-0.034000
aim_hud_offset_rot_16x9						= 0.017595,0.009758,0.000000
;-----------------------------------------------------------------------------
; Уникальные
;-----------------------------------------------------------------------------
[wpn_mp5_nimble]:wpn_mp5,wpn_mp5k_sounds
$spawn          							= "weapons\wpn_mp5k"

parent_section  							= wpn_mp5_nimble

fire_dispersion_base						= 0.25
crosshair_inertion 							= 4.0

inv_grid_x									= 31
inv_grid_y									= 22

upgr_icon_x									= 1150
upgr_icon_y									= 1900
upgr_icon_width								= 200
upgr_icon_height 							= 100

hud                                      	= wpn_mp5k_hud
visual										= dynamics\weapons\wpn_mp5k\wpn_mp5k.ogf

silencer_x                  				= 194
silencer_y                  				= 1

[wpn_mp5k_hud]:hud_base
item_visual                              	= dynamics\weapons\wpn_mp5k\wpn_mp5k_hud.ogf
attach_place_idx                         	= 0
zoom_hide_crosshair                      	= true

hands_orientation                			= 2.512, 3.181338, 0
hands_orientation_16x9           			= 2.512, 3.181338, 0

hands_position                   			= -0.019038, 0.003609, -0.090834
hands_position_16x9              			= -0.019038, 0.003609, -0.090834

item_position                            	= 0, 0, 0
item_orientation                         	= 0, 0, 0

aim_hud_offset_pos               			= 0.022232, -0.006587, 0.012973
aim_hud_offset_pos_16x9          			= 0.022232, -0.006587, 0.012973
		
aim_hud_offset_rot               			= 0.058985, 0.044224, 0
aim_hud_offset_rot_16x9          			= 0.058985, 0.044224, 0

shell_bone                               	= wpn_body
shell_dir                                	= 0, 1, 0
shell_point                      			= 0, -0.03, 0.1

fire_bone                                	= wpn_body
fire_bone2                               	= wpn_body
fire_point                       			= -0.000531, -0.016567, 0.204794
fire_point2                      			= 0, 0, 0.35

anm_hide                                 	= mp5k_hide, idle
anm_idle                                 	= mp5k_idle, idle
anm_idle_aim                             	= mp5k_aim, idle
anm_idle_aim_moving                      	= mp5k_walk, idle, 0.6
anm_idle_aim_moving_slow              		= mp5k_walk, idle, 0.5
anm_idle_aim_moving_crouch               	= mp5k_walk, idle, 0.4
anm_idle_aim_moving_crouch_slow          	= mp5k_walk, idle, 0.3
anm_idle_moving                          	= mp5k_walk, idle
anm_idle_moving_slow                   		= mp5k_walk, idle, 0.8
anm_idle_moving_crouch                   	= mp5k_walk, idle, 0.6
anm_idle_moving_crouch_slow               	= mp5k_walk, idle, 0.4
anm_idle_sprint                          	= mp5k_sprint, idle
anm_reload                               	= mp5k_reload, mp5_reload
anm_reload_empty                         	= mp5k_reload_empty, mp5_reload_empty
anm_shots                                	= mp5k_shoot, mp5_new_shoot
anm_show                                 	= mp5k_draw, idle
anm_reload_misfire                       	= mp5k_misfire, mp5_revival
anm_shots_aim               				= mp5k_aim_shoot, mp5_new_shoot
anm_shots_last_aim             				= mp5k_aim_shoot, mp5_new_shoot
;anm_idle_aim_start          				= mp5k_aim_start, mp5_aim_start
;anm_idle_aim_end            				= mp5k_aim_end, mp5_aim_end
anm_switch_mode             				= mp5k_fire_mode, idle
anm_switch_mode_empty       				= mp5k_fire_mode, idle

anm_hide_jammed                        		= mp5k_hide, idle_jammed         
anm_idle_jammed                        		= mp5k_idle, idle_jammed
anm_idle_aim_jammed                    		= mp5k_aim, idle_jammed
anm_idle_aim_moving_jammed                 	= mp5k_walk, idle_jammed, 0.6
anm_idle_aim_moving_slow_jammed           	= mp5k_walk, idle_jammed, 0.5
anm_idle_aim_moving_crouch_jammed      		= mp5k_walk, idle_jammed, 0.4
anm_idle_aim_moving_crouch_slow_jammed  	= mp5k_walk, idle_jammed, 0.3
anm_idle_moving_jammed                 		= mp5k_walk, idle_jammed
anm_idle_moving_slow_jammed             	= mp5k_walk, idle_jammed, 0.8
anm_idle_moving_crouch_jammed           	= mp5k_walk, idle_jammed, 0.6
anm_idle_moving_crouch_slow_jammed      	= mp5k_walk, idle_jammed, 0.4
anm_idle_sprint_jammed                 		= mp5k_sprint, idle_jammed
anm_show_jammed                        		= mp5k_draw, idle_jammed
;anm_idle_aim_start_jammed              	= mp5k_aim_start, idle_jammed  
;anm_idle_aim_end_jammed                	= mp5k_aim_end, idle_jammed  
anm_switch_mode_jammed                 		= mp5k_fire_mode, idle_jammed

;--- Переходы спринта---

anm_idle_sprint_start             			= mp5k_sprint_start
anm_idle_sprint_end               			= mp5k_sprint_end
anm_idle_sprint_start_jammed      			= mp5k_sprint_start, idle_jammed   
anm_idle_sprint_end_jammed        			= mp5k_sprint_end, idle_jammed
		
;--- Паттерны спринта---

ts_pattern_idle_sprint_start      			= .+, anm_idle_sprint, anm_idle_sprint_start, 1
ts_pattern_idle_sprint_end        			= anm_idle_sprint, ^anm_idle.*, anm_idle_sprint_end
ts_strict_idle_sprint_end_move    			= anm_idle_sprint_start, anm_idle_moving, anm_idle_sprint_end  

gl_hud_offset_pos                        	= 0, 0, 0
gl_hud_offset_pos_16x9                   	= 0, 0, 0
gl_hud_offset_rot                        	= 0, 0, 0
gl_hud_offset_rot_16x9                   	= 0, 0, 0

lean_hud_offset_pos                      	= 0, 0, 0
lean_hud_offset_rot                      	= 0, 0, 0

freelook_z_offset_mul                    	= 0.3
;-----------------------------------------------------------------------------
; Addons
;-----------------------------------------------------------------------------
[wpn_mp5_nimble_acog]:wpn_mp5_nimble
$spawn										= "weapons\mp5k_acog"
hud											= wpn_mp5k_acog_hud

scope_x										= 107
scope_y										= -24

[wpn_mp5k_acog_hud]:wpn_mp5k_hud
