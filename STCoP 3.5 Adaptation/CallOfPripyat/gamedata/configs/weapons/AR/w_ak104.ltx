; Автомат Калашникова «сотой серии»
;-(TrickSR, Ga2z)-----------------------------------------
; калибр						7.62х39
; длина ствола 					314 мм
; магазин						30
; вес с пустым магазином		3.23 кг
; максимальная дальность стрельбы	2900 м
; эффективная дальность стрельбы	300 м
; прицельная дальность			1000 м
; дульная скорость пули			670 м/с
; темп стрельбы					600 в/м
;---------------------------------------------------
[wpn_ak104]:weapon_probability,default_weapon_params,wpn_ak104_sounds
GroupControlSection				= spawn_group
$spawn							= "weapons\ak-104"
$npc							= on
$prefetch						= 8
scheduled						= off
cform							= skeleton
class							= WP_AK74
description						= st_wpn_ak104_descr

scopes 							= 1p78,1pn93-1,ekp,okp
parent_section  				= wpn_ak104

ef_main_weapon_type				= 2
ef_weapon_type					= 8

inv_name						= st_wpn_ak104
inv_name_short					= st_wpn_ak104

inv_grid_width					= 5
inv_grid_height					= 2
inv_grid_x						= 20
inv_grid_y						= 16

upgr_icon_x						= 0
upgr_icon_y						= 1400
upgr_icon_width					= 300
upgr_icon_height 				= 100

kill_msg_x						= 0
kill_msg_y						= 28
kill_msg_width					= 84
kill_msg_height					= 28

cost 							= 6000
weapon_class					= assault_rifle
inv_weight						= 3.23
hud								= wpn_ak104_hud
visual							= dynamics\weapons\wpn_ak104\wpn_ak104.ogf

upgrades                = up_gr_firstab_ak74, up_gr_seconab_ak74, up_gr_thirdab_ak74, up_gr_fourtab_ak74, up_gr_fifthab_abakan, up_gr_fifthcd_ak74
installed_upgrades      =
upgrade_scheme          = upgrade_scheme_ak74

ph_mass							= 3

ammo_class						= ammo_7.62x39_fmj, ammo_7.62x39_ap

startup_ammo					= 90
ammo_current					= 180
ammo_elapsed					= 30
ammo_limit						= 210
ammo_mag_size					= 30

fire_modes						= 1,-1

grenade_class					= ammo_vog-25, ammo_vog-25p

launch_speed					= 76
hand_dependence					= 1
single_handed					= 0

hit_power						= 0.25
;hit_impulse					= 10
hit_type						= fire_wound
fire_distance					= 1000
bullet_speed					= 670
rpm								= 600
rpm_empty_click					= 200
	
use_aim_bullet					= false
time_to_aim						= 3.0

misfire_probability				= 0.005
misfire_start_condition			= 0.6
misfire_end_condition			= 0.1
misfire_start_prob	 			= 0.003
misfire_end_prob		 		= 0.043
condition_shot_dec 				= 0.0005
condition_queue_shot_dec		= 0.0006

zoom_dof						= 0.5,1,180
reload_dof						= 0,0.5,5,2

fire_dispersion_base 			= 0.37
fire_dispersion_condition_factor	= 2
control_inertion_factor 		= 1.2f
crosshair_inertion				= 5.75

cam_return					= 0
cam_relax_speed             = 10		
cam_relax_speed_ai      	= 360
cam_dispersion              = 1		
cam_dispersion_inc         	= 0.5	
cam_dispersion_frac        	= 1	   
cam_max_angle				= 50      
cam_max_angle_horz         	= 5      
cam_step_angle_horz        	= 0.35		

zoom_cam_relax_speed         = 10	 
zoom_cam_relax_speed_ai      = 360
zoom_cam_dispersion          = 0.9
zoom_cam_dispersion_inc      = 0.45
zoom_cam_dispersion_frac     = 0.7
zoom_cam_max_angle           = 50
zoom_cam_max_angle_horz      = 5
zoom_cam_step_angle_horz     = 0.3

PDM_disp_base 				= 0.5
PDM_disp_vel_factor 		= 2
PDM_disp_accel_factor 		= 2
PDM_disp_crouch	 			= 1
PDM_disp_crouch_no_acc 		= 1

min_radius						= 30
max_radius						= 50
holder_range_modifier			= 1
holder_fov_modifier				= 1

slot							= 2
animation_slot					= 2

position						= -0.026,-0.175,0.01
orientation						= 0,0,0

fire_point						= 0,0.218,0.656
fire_point2						= 0,0.161,0.583

flame_particles					= amik\weapons\ak_shoot_00
smoke_particles					= ghost_particles\weapons\flame_eft_aks74u
grenade_flame_particles 		= amik\weapons\grenade_flame_particles\grenade_flame_particles_00
silencer_smoke_particles   		= ghost_particles\weapons\generic_smoke_eft_sil

shell_point						= 0,0.216,0.174
shell_dir						= 0,0,0.4
shell_particles					= ghost_particles\weapons\shells\shells_762_39_right

strap_position					= -0.26,-0.11,0.25
strap_orientation				= -15,-9,110
strap_bone0						= bip01_spine2
strap_bone1						= bip01_spine1

light_disabled					= false
light_color						= 0.6,0.5,0.3
light_range						= 5
light_var_color					= 0.05
light_var_range					= 0.5
light_time						= 0.2

scope_status					= 2
silencer_status					= 2
grenade_launcher_status			= 0

zoom_enabled					= true
zoom_rotate_time				= 0.2
scope_zoom_factor				= 83.3

scope_name 						= pso
scope_x							= 21
scope_y							= 7

silencer_name					= sil_tgp-a
silencer_x                  	= 181
silencer_y                  	= 20

silencer_hit_power				= 0.31
;silencer_hit_impulse			= 10
silencer_fire_distance			= 500
silencer_bullet_speed			= 300

silencer_light_color			= 0.6,0.5,0.3
silencer_light_range			= 0.01
silencer_light_var_color		= 0.05
silencer_light_var_range		= 0.5
silencer_light_time				= 0.2

[wpn_ak104_hud]:hud_base
zoom_hide_crosshair				= true
attach_place_idx				= 0
item_visual						= dynamics\weapons\wpn_ak104\wpn_ak104_hud.ogf

hands_position					= -0.008000,0.001000,-0.148999
hands_orientation				= -0.024999,-0.050000,0.000000

hands_position_16x9				= -0.008000,0.001000,-0.148999
hands_orientation_16x9				= -0.024999,-0.050000,0.000000

item_position					= 0,0,0
item_orientation				= 0,0,0

aim_hud_offset_pos				= -0.060800,0.027730,-0.119260
aim_hud_offset_rot				= 0,0,0

aim_hud_offset_pos_16x9			= -0.060800,0.027730,-0.119260
aim_hud_offset_rot_16x9			= 0,0,0

hud_collision_enabled			= true
hud_collision_offset_pos		= 0,-0.35,0
hud_collision_offset_pos_16x9		= 0,-0.35,0
hud_collision_offset_rot		= -0.8,0,0
hud_collision_offset_rot_16x9		= -0.8,0,0

shell_point                 	= 0,0,0
shell_dir               		= 0,1,0
shell_bone                		= gilza

fire_point						= 0,0,0
fire_bone                   	= muzzle
fire_point2                 	= 0,0,0
fire_bone2                		= muzzle_gl

anm_show						= aksu_ins_draw
anm_hide                		= aksu_ins_hide
anm_idle                		= aksu_ins_idle, idle
anm_idle_sprint         		= aksu_ins_idle_sprint
anm_idle_moving         		= aksu_ins_idle_moving
anm_shots               		= aksu_ins_shoot, shoot
anm_shots_when_aim              = ak74_ins_shoot_aim, shoot
anm_reload              		= aksu_ins_reload_speed, reload_speed
anm_reload_empty        		= aksu_ins_reload_empty_speed, reload_empty_speed
anm_reload_misfire        		= aksu_ins_misfire
anm_idle_moving_crouch  		= aksu_ins_idle_crouch
anm_idle_aim            		= aksu_ins_idle_aim
anm_bore                		= aksu_ins_idle_bore

gl_hud_offset_pos 				= 0,0,0
gl_hud_offset_rot 				= 0,0,0

gl_hud_offset_pos_16x9			= 0,0,0
gl_hud_offset_rot_16x9 			= 0,0,0

lean_hud_offset_pos         	= 0,0,0
lean_hud_offset_rot         	= 0,0,0
;-----------------------------------------------------------------------------
; Аддоны
;-----------------------------------------------------------------------------
[wpn_ak104_1p78]:wpn_ak104
$spawn             				= "weapons\wpn_ak104_1p78"
hud								= wpn_ak104_1p78_hud

scope_x                     	= 68
scope_y                     	= 4

[wpn_ak104_1p78_hud]:wpn_ak104_hud

aim_hud_offset_pos				= -0.060750,-0.002270,-0.144260
aim_hud_offset_pos_16x9				= -0.060750,-0.002270,-0.144260

[wpn_ak104_1pn93-1]:wpn_ak104
$spawn             				= "weapons\wpn_ak104_1pn93-1"
hud								= wpn_ak104_1pn93-1_hud
visual							= dynamics\weapons\wpn_ak104\wpn_ak104_1pn93-1.ogf

scope_x							= 46
scope_y							= 10

[wpn_ak104_1pn93-1_hud]:wpn_ak104_hud
item_visual                		= dynamics\weapons\wpn_ak104\wpn_ak104_1pn93-1_hud.ogf

aim_hud_offset_pos				= -0.043930,-0.000770,-0.137760
aim_hud_offset_pos_16x9				= -0.043930,-0.000770,-0.137760

[wpn_ak104_ekp]:wpn_ak104
$spawn             				= "weapons\wpn_ak104_ekp"
hud								= wpn_ak104_ekp_hud
visual							= dynamics\weapons\wpn_ak104\wpn_ak104_ekp.ogf

scope_x                     	= 77
scope_y                     	= 11

[wpn_ak104_ekp_hud]:wpn_ak104_hud
item_visual                		= dynamics\weapons\wpn_ak104\wpn_ak104_ekp_hud.ogf

aim_hud_offset_pos				= -0.059630,-0.005570,-0.113760
aim_hud_offset_pos_16x9				= -0.059630,-0.005570,-0.113760

[wpn_ak104_kobra]:wpn_ak104
$spawn             				= "weapons\wpn_ak104_kobra"
hud								= wpn_ak104_kobra_hud
visual							= dynamics\weapons\wpn_ak104\wpn_ak104_kobra.ogf

scope_x							= 59
scope_y							= 13

[wpn_ak104_kobra_hud]:wpn_ak104_hud
item_visual                		= dynamics\weapons\wpn_ak104\wpn_ak104_kobra_hud.ogf

aim_hud_offset_pos				= -0.057930,0.023230,-0.119260
aim_hud_offset_pos_16x9				= -0.057930,0.023230,-0.119260

[wpn_ak104_okp]:wpn_ak104
$spawn             				= "weapons\wpn_ak104_okp"
hud								= wpn_ak104_okp_hud
visual							= dynamics\weapons\wpn_ak104\wpn_ak104_okp.ogf

scope_x                     	= 81
scope_y                     	= 11

[wpn_ak104_okp_hud]:wpn_ak104_hud
item_visual                		= dynamics\weapons\wpn_ak104\wpn_ak104_okp_hud.ogf

aim_hud_offset_pos				= -0.054100,0.010230,-0.105760
aim_hud_offset_pos_16x9				= -0.054100,0.010230,-0.105760
