; Пистолет Макарова - ПМ 
;-(TrickSR, Ga2z)-----------------------------------------
; калибр 										9х18 мм
; длина ствола 									93.5 мм
; магазин										8
; вес с пустым магазином						0.73 кг
; максимальная дальность стрельбы				500 м
; эффективная дальность стрельбы				25 м
; прицельная дальность							25 м
; дульная скорость пули							315 м/с
; темп стрельбы									32 в/м
;---------------------------------------------------
[wpn_pm]:weapon_probability,default_weapon_params,wpn_pm_sounds
GroupControlSection								= spawn_group
$spawn 											= "weapons\pm"
$npc			 								= on
$prefetch 										= 8
scheduled 										= off 
cform 											= skeleton
class 											= WP_PM
description										= st_wpn_pm_descr

scopes 											= none
parent_section  								= wpn_pm

ef_main_weapon_type								= 0
ef_weapon_type									= 5

inv_name										= st_wpn_pm
inv_name_short									= st_wpn_pm

inv_grid_width									= 2
inv_grid_height									= 1
inv_grid_x										= 2
inv_grid_y										= 33

upgr_icon_x										= 1150
upgr_icon_y										= 800
upgr_icon_width									= 150
upgr_icon_height 								= 100

kill_msg_x										= 227
kill_msg_y										= 82
kill_msg_width									= 27
kill_msg_height									= 23

cost											= 400
weapon_class									= 
inv_weight										= 0.73
hud 											= wpn_pm_hud
visual 											= dynamics\weapons\wpn_pm\wpn_pm.ogf

upgrades                						= up_gr_firstab_pm, up_gr_seconab_pm, up_gr_thirdab_pm, up_gr_fourtab_pm, up_gr_fifthab_pm, up_gr_fifthcd_pm
installed_upgrades      						=
upgrade_scheme          						= upgrade_scheme_pm

ph_mass			 								= 1

ammo_class		 								= ammo_9x18_fmj, ammo_9x18_pmm

startup_ammo									= 90
ammo_current									= 48
ammo_elapsed									= 8
ammo_limit										= 56
ammo_mag_size									= 8

hand_dependence		 							= 1
single_handed									= 0

hit_power 										= 0.53
;hit_impulse	 		 						= 10
hit_type 										= fire_wound
fire_distance									= 500
bullet_speed									= 315
rpm												= 200
rpm_empty_click 	 							= 120

use_aim_bullet									= false
time_to_aim										= 1

misfire_probability								= 0.005
misfire_start_condition							= 0.6
misfire_end_condition							= 0.1
misfire_start_prob	 							= 0.007
misfire_end_prob	 							= 0.07
condition_shot_dec 								= 0.003
condition_queue_shot_dec						= 0.003

zoom_dof										= -1000,1,1000
reload_dof										= 0,0.5,5,1.7

fire_dispersion_base							= 0.25
fire_dispersion_condition_factor				= 2.5
control_inertion_factor							= 1
crosshair_inertion								= 3

cam_return										= 0
cam_relax_speed									= 8
cam_relax_speed_ai								= 360
cam_dispersion									= 0.75
cam_dispersion_inc								= 0.75
cam_dispersion_frac								= 1
cam_max_angle									= 5
cam_max_angle_horz								= 5
cam_step_angle_horz								= 1

PDM_disp_base 									= 0.5
PDM_disp_vel_factor 							= 1.1
PDM_disp_accel_factor 							= 1.1
PDM_disp_crouch	 								= 1
PDM_disp_crouch_no_acc 							= 1

min_radius 										= 0
max_radius 										= 30

holder_range_modifier							= 1
holder_fov_modifier								= 1

slot 			 								= 1
animation_slot									= 1

position 										= -0.021,-0.085,-0.02
orientation 									= 0,0,0

fire_point 										= 0,0.133,0.161

flame_particles									= weapons\generic_weapon03
smoke_particles        		 					= ghost_particles\weapons\flame_eft_ak
silencer_smoke_particles 						= ghost_particles\weapons\generic_smoke_eft_sil 

shell_point		 								= 0,0.133,0.047
shell_dir		 								= 0,0,0.4
;shell_particles	 							= ghost_particles\weapons\shells\shells_9x18_right

light_color		 								= 0.6,0.5,0.3
light_range		 								= 3.0
light_var_color		 							= 0.05
light_var_range		 							= 0.5
light_time 		 								= 0.2

scope_status									= 0
silencer_status									= 0
grenade_launcher_status							= 0

zoom_enabled									= true
zoom_rotate_time								= 0.15
scope_zoom_factor								= 83.3

silencer_name 									= wpn_addon_silencer
silencer_x                 						= 57
silencer_y                  					= -16

silencer_hit_power 								= 0.51
;silencer_hit_impulse	 						= 10
silencer_fire_distance 							= 400
silencer_bullet_speed	 						= 290

silencer_light_color							= 0.6,0.5,0.3
silencer_light_range							= 0.01
silencer_light_var_color						= 0.05
silencer_light_var_range						= 0.5
silencer_light_time 							= 0.2

[wpn_pm_hud]:hud_base
zoom_hide_crosshair								= true
item_visual             						= dynamics\weapons\wpn_pm\wpn_pm_hud.ogf
attach_place_idx								= 0

hands_position									= -0.020981,-0.066627,-0.036836
hands_orientation								= -1,-2.5,-7

hands_position_16x9								= -0.020981,-0.066627,-0.036836
hands_orientation_16x9							= -1,-2.5,-7

item_position               					= 0.002463, -0.013232, -0.005539
item_orientation								= 1.324207,2.899481,-1.170716

aim_hud_offset_pos								= 0.022816,0.017682,-0.031365
aim_hud_offset_rot								= -0.004867,0.010508,-0.132050

aim_hud_offset_pos_16x9							= 0.022816,0.017682,-0.031365
aim_hud_offset_rot_16x9							= -0.004867,0.010508,-0.132050

shell_bone                  					= wpn_body
shell_point                 					= 200, 200, 200
        
fire_bone                   					= wpn_body
fire_point 										= 0, 0.064, 0.32
 
anm_hide										= ph_hide, idle
anm_hide_empty									= ph_hide, idle_empty
anm_idle										= ph_idle, idle
anm_idle_empty									= ph_idle, idle_empty
anm_idle_aim									= ph_aim, idle
anm_idle_aim_empty								= ph_aim, idle_empty
;anm_idle_aim_moving								= ph_walk, idle, 0.6
;anm_idle_aim_moving_empty						= ph_walk, idle_empty, 0.6
;anm_idle_aim_moving_slow						= ph_walk, idle, 0.5
;anm_idle_aim_moving_slow_empty					= ph_walk, idle_empty, 0.5
;anm_idle_aim_moving_crouch						= ph_walk, idle, 0.4
;anm_idle_aim_moving_crouch_empty				= ph_walk, idle_empty, 0.4
;anm_idle_aim_moving_crouch_slow					= ph_walk, idle, 0.3
;anm_idle_aim_moving_crouch_slow_empty			= ph_walk, idle_empty, 0.3
anm_idle_moving									= ph_walk, idle
anm_idle_moving_empty							= ph_walk, idle_empty
anm_idle_moving_slow							= ph_walk, idle, 0.8
anm_idle_moving_slow_empty						= ph_walk, idle_empty, 0.8
anm_idle_moving_crouch							= ph_walk, idle, 0.6
anm_idle_moving_crouch_empty					= ph_walk, idle_empty, 0.6
anm_idle_moving_crouch_slow						= ph_walk, idle, 0.4
anm_idle_moving_crouch_slow_empty				= ph_walk, idle_empty, 0.4
anm_idle_sprint									= ph_sprint, idle
anm_idle_sprint_empty							= ph_sprint, idle_empty
anm_reload										= ph_reload, pm_reload
anm_reload_empty								= ph_reload_empty, pm_reload_full
anm_reload_misfire								= ph_misfire, pm_revival
anm_shot_l										= ph_shoot, pm_shoot_empty
anm_shots										= ph_shoot, pm_shoot
anm_show										= ph_draw, idle
anm_show_empty									= ph_draw, idle_empty
anm_bore										= ph_bore, pm_bore
anm_bore_empty									= ph_idle, idle_empty
anm_shots_aim               					= ph_aim_shoot, pm_shoot
anm_shots_last_aim             					= ph_aim_shoot, pm_shoot_empty
anm_idle_aim_start          					= ph_aim_start, idle
anm_idle_aim_end            					= ph_aim_end, idle
anm_idle_aim_start_empty    					= ph_aim_start, idle_empty
anm_idle_aim_end_empty      					= ph_aim_end, idle_empty

anm_hide_jammed                  				= ph_hide, idle_jammed         
anm_idle_jammed                   				= ph_idle, idle_jammed
anm_idle_aim_jammed               				= ph_aim, idle_jammed
;anm_idle_aim_moving_jammed          			= ph_walk, idle_jammed, 0.6
;anm_idle_aim_moving_slow_jammed          		= ph_walk, idle_jammed, 0.5
;anm_idle_aim_moving_crouch_jammed          		= ph_walk, idle_jammed, 0.4
;anm_idle_aim_moving_crouch_slow_jammed     		= ph_walk, idle_jammed, 0.3
anm_idle_moving_jammed             				= ph_walk, idle_jammed
anm_idle_moving_slow_jammed         			= ph_walk, idle_jammed, 0.8
anm_idle_moving_crouch_jammed     				= ph_walk, idle_jammed, 0.6
anm_idle_moving_crouch_slow_jammed  			= ph_walk, idle_jammed, 0.4
anm_idle_sprint_jammed           				= ph_sprint, idle_jammed
anm_show_jammed                  				= ph_draw, idle_jammed
anm_bore_jammed                  				= ph_bore, pm_bore_jammed
anm_idle_aim_start_jammed       				= ph_aim_start, idle_jammed
anm_idle_aim_end_jammed         				= ph_aim_end, idle_jammed

;--- Переходы спринта---

anm_idle_sprint_start             				= ph_sprint_start
anm_idle_sprint_end               				= ph_sprint_end
anm_idle_sprint_start_empty       				= ph_sprint_start, idle_empty
anm_idle_sprint_end_empty         				= ph_sprint_end, idle_empty
anm_idle_sprint_start_jammed      				= ph_sprint_start, idle_jammed   
anm_idle_sprint_end_jammed        				= ph_sprint_end, idle_jammed

;--- Паттерны спринта---

ts_pattern_idle_sprint_start      				= .+, anm_idle_sprint, anm_idle_sprint_start, 1
ts_pattern_idle_sprint_end        				= anm_idle_sprint, ^anm_idle.*, anm_idle_sprint_end
ts_strict_idle_sprint_end_move    				= anm_idle_sprint_start, anm_idle_moving, anm_idle_sprint_end  

gl_hud_offset_pos           					= 0,0,0
gl_hud_offset_rot           					= 0,0,0
        
lean_hud_offset_pos         					= 0,0,0
lean_hud_offset_rot         					= 0,0,0

[wpn_pmm]:wpn_pm,wpn_pmm_sounds
$spawn                  						= "weapons\wpn_pmm"

description										= st_wpn_pmm_descr

inv_name										= st_wpn_pmm
inv_name_short									= st_wpn_pmm

inv_grid_x										= 6
inv_grid_y										= 33

upgr_icon_x										= 1300
upgr_icon_y										= 800

inv_weight										= 0.76
hud 											= wpn_pmm_hud
visual 											= dynamics\weapons\wpn_pm\wpn_pmm.ogf

position 										= -0.021,-0.085,-0.01

startup_ammo									= 90
ammo_current									= 48
ammo_elapsed									= 12
ammo_limit										= 56
ammo_mag_size									= 12

condition_shot_dec 								= 0.0028
condition_queue_shot_dec						= 0.0028

hit_power 										= 0.62
;hit_impulse	 		 						= 10
hit_type 										= fire_wound
fire_distance									= 560
bullet_speed									= 420
rpm												= 210
rpm_empty_click 	 							= 120

silencer_hit_power 								= 0.61

shell_particles	 								= ghost_particles\weapons\shells\shells_9x18_right

[wpn_pmm_hud]:hud_base
zoom_hide_crosshair								= true
item_visual             						= dynamics\weapons\wpn_pm\wpn_pmm_hud.ogf
attach_place_idx								= 0

hands_position									= -0.003500,-0.157100,-0.229600
hands_orientation								= 1.750999,-0.414997,-5.350002

hands_position_16x9								= -0.003500,-0.157100,-0.229600
hands_orientation_16x9							= 1.750999,-0.414997,-5.350002

item_position									= 0,0,0
item_orientation								= 0,0,0 

aim_hud_offset_pos								= -0.055500,0.048000,-0.08
aim_hud_offset_rot								= -0.014775,0.029275,-0.1275

aim_hud_offset_pos_16x9							= -0.055500,0.048000,-0.08
aim_hud_offset_rot_16x9							= -0.014775,0.029275,-0.1275

shell_point										= 0,0.036,0 ;0.013,0.046,0.463
shell_bone              						= wpn_body

fire_point										= 0,0,0
fire_bone               						= muzzle

anm_show										= pm_ins_draw, idle
anm_show_empty									= pm_ins_draw, idle_empty
anm_hide             							= pm_ins_hide, idle
anm_hide_empty             						= pm_ins_hide, idle_empty
anm_idle             							= pm_ins_idle, idle
anm_idle_empty             						= pm_ins_idle, idle_empty
anm_shots										= pm_ins_shoot, shoot
anm_shot_l										= pm_ins_shoot, shoot_last
anm_idle_aim									= pm_ins_idle_aim, idle
anm_idle_aim_empty								= pm_ins_idle_aim, idle_empty
anm_idle_aim_moving       						= pm_ins_idle_moving, idle, 0.6
anm_idle_aim_moving_slow   						= pm_ins_idle_moving, idle, 0.5
anm_idle_aim_moving_crouch						= pm_ins_idle_moving, idle, 0.4
anm_idle_aim_moving_crouch_slow					= pm_ins_idle_moving, idle, 0.3
anm_idle_aim_moving_empty       				= pm_ins_idle_moving, idle_empty, 0.6
anm_idle_aim_moving_slow_empty   				= pm_ins_idle_moving, idle_empty, 0.5
anm_idle_aim_moving_crouch_empty				= pm_ins_idle_moving, idle_empty, 0.4
anm_idle_aim_moving_crouch_slow_empty			= pm_ins_idle_moving, idle_empty, 0.3
anm_reload										= pm_ins_reload, reload
anm_reload_empty								= pm_ins_reload_empty, reload_empty
anm_reload_misfire								= pm_ins_reload_empty, reload_empty
anm_idle_moving 								= pm_ins_idle_moving, idle
anm_idle_moving_empty 							= pm_ins_idle_moving, idle_empty
anm_idle_moving_slow 							= pm_ins_idle_moving, idle, 0.8
anm_idle_moving_slow_empty 						= pm_ins_idle_moving, idle_empty, 0.8
anm_idle_moving_crouch 							= pm_ins_idle_crouch, idle
anm_idle_moving_crouch_empty 					= pm_ins_idle_crouch, idle_empty
anm_idle_moving_crouch_slow 					= pm_ins_idle_crouch, idle, 0.8
anm_idle_moving_crouch_slow_empty 				= pm_ins_idle_crouch, idle_empty, 0.8
anm_idle_sprint									= pm_ins_idle_sprint, idle
anm_idle_sprint_empty							= pm_ins_idle_sprint, idle_empty
anm_bore										= pm_ins_idle_aim, idle
anm_bore_empty									= pm_ins_idle_aim, idle_empty

anm_hide_jammed                  				= pm_ins_hide, idle_empty
anm_idle_jammed                   				= pm_ins_idle, idle_empty
anm_idle_aim_jammed               				= pm_ins_idle_aim, idle_empty
anm_idle_aim_moving_jammed        				= pm_ins_idle_moving, idle_empty, 0.6
anm_idle_aim_moving_slow_jammed    				= pm_ins_idle_moving, idle_empty, 0.5
anm_idle_aim_moving_crouch_jammed 				= pm_ins_idle_moving, idle_empty, 0.4
anm_idle_aim_moving_crouch_slow_jammed 			= pm_ins_idle_moving, idle_empty, 0.3
anm_idle_moving_jammed             				= pm_ins_idle_moving, idle_empty
anm_idle_moving_slow_jammed         			= pm_ins_idle_moving, idle_empty, 0.8
anm_idle_moving_crouch_jammed     				= pm_ins_idle_moving, idle_empty, 0.6
anm_idle_moving_crouch_slow_jammed  			= pm_ins_idle_moving, idle_empty, 0.4
anm_idle_sprint_jammed           				= pm_ins_idle_sprint, idle_empty
anm_show_jammed                  				= pm_ins_draw, idle_empty
anm_bore_jammed                  				= pm_ins_idle_aim, idle_empty

anm_idle_sprint_start             				= pm_ins_idle_sprint
anm_idle_sprint_end               				= pm_ins_idle_sprint
anm_idle_sprint_start_empty       				= pm_ins_idle_sprint, idle_empty
anm_idle_sprint_end_empty         				= pm_ins_idle_sprint, idle_empty
anm_idle_sprint_start_jammed      				= pm_ins_idle_sprint, idle_empty
anm_idle_sprint_end_jammed        				= pm_ins_idle_sprint, idle_empty

[wpn_pm_actor]:wpn_pm
$spawn                  						= "weapons\wpn_pm_actor"
