; Автомат специальный АС "Вал" (6П30)
;-(TrickSR, Ga2z)-----------------------------------------
; калибр 									9x39 мм
; длина ствола 								200 мм
; магазин									20
; вес с пустым магазином					2.50 кг
; максимальная дальность стрельбы			800 м
; эффективная дальность стрельбы			400 м 
; прицельная дальность						420 м
; дульная скорость пули						285-305 м/с
; темп стрельбы								800 в/м
;---------------------------------------------------
[wpn_val]:weapon_probability,default_weapon_params,wpn_val_sounds
GroupControlSection							= spawn_group
$spawn										= "weapons\val"
$npc										= off
$prefetch									= 8
scheduled									= off
cform										= skeleton
class										= WP_VAL
description									= st_wpn_val_descr

scopes 										= pso1m21,1p78,1pn93-1,ekp,okp,kobra
parent_section  							= wpn_val

ef_main_weapon_type							= 2
ef_weapon_type								= 6

inv_name									= st_wpn_val
inv_name_short								= st_wpn_val

inv_grid_width								= 5
inv_grid_height								= 2
inv_grid_x									= 15
inv_grid_y									= 4

upgr_icon_x									= 300
upgr_icon_y									= 1100
upgr_icon_width								= 300
upgr_icon_height 							= 100

kill_msg_x									= 0
kill_msg_y									= 154
kill_msg_width								= 78
kill_msg_height								= 21

cost 										= 9000
weapon_class								= assault_rifle
inv_weight									= 2.50
hud											= wpn_val_hud
visual										= dynamics\weapons\wpn_val\wpn_val.ogf

upgrades                					= up_gr_firstab_val, up_gr_seconab_val, up_gr_thirdab_val, up_gr_fourtab_val, up_gr_fifthab_val
installed_upgrades      					=
upgrade_scheme          					= upgrade_scheme_val

ph_mass										= 3

ammo_class									= ammo_9x39_pab9,ammo_9x39_sp5,ammo_9x39_ap

startup_ammo								= 90
ammo_current								= 120
ammo_elapsed								= 20
ammo_limit									= 140
ammo_mag_size								= 20

fire_modes									= 1,-1

launch_speed								= 0
hand_dependence								= 1
single_handed								= 0

hit_power									= 0.42
;hit_impulse								= 10
hit_type									= fire_wound
fire_distance								= 800
bullet_speed								= 295
rpm											= 725
rpm_empty_click								= 200

use_aim_bullet								= false
time_to_aim									= 3.0

misfire_probability							= 0.005
misfire_start_condition						= 0.6
misfire_end_condition						= 0.1
misfire_start_prob	 						= 0.004
misfire_end_prob	 						= 0.057
condition_shot_dec							= 0.001
condition_queue_shot_dec					= 0.0011

zoom_dof									= 0.5,1,180
reload_dof									= 0,0.5,5,2

fire_dispersion_base						= 0.22
fire_dispersion_condition_factor			= 3
control_inertion_factor						= 1.15f
crosshair_inertion							= 5.65

cam_return									= 0
cam_relax_speed								= 4 
cam_relax_speed_ai							= 360
cam_dispersion								= 0.5
cam_dispersion_inc							= 0.25
cam_dispersion_frac							= 0.7
cam_max_angle								= 50
cam_max_angle_horz							= 50
cam_step_angle_horz							= 0.7

zoom_cam_relax_speed						= 4
zoom_cam_relax_speed_ai						= 120.75
zoom_cam_dispersion							= 0.45
zoom_cam_dispersion_inc						= 0.22
zoom_cam_dispersion_frac					= 0.7
zoom_cam_max_angle							= 50
zoom_cam_max_angle_horz						= 50
zoom_cam_step_angle_horz					= 0.5

PDM_disp_base 								= 0.5
PDM_disp_vel_factor 						= 1.5
PDM_disp_accel_factor 						= 1.5
PDM_disp_crouch	 							= 1
PDM_disp_crouch_no_acc 						= 1

min_radius									= 30
max_radius									= 50

holder_range_modifier						= 1
holder_fov_modifier							= 1

slot										= 2
animation_slot								= 2

position        	    					= -0.026,-0.14,-0.01
orientation            						= 0,0,0

fire_point              					= 0,0.174,0.58
fire_point2             					= 0,0.097,0.722

smoke_particles     						= ghost_particles\weapons\generic_smoke_eft_sil
grenade_flame_particles 					= amik\weapons\grenade_flame_particles\grenade_flame_particles_00
silencer_smoke_particles   					= ghost_particles\weapons\generic_smoke_eft_sil

shell_point									= -0.02,0.167,0.082
shell_dir		 							= 0,1,0
;shell_particles         					= ghost_particles\weapons\shells\shells_939_right

strap_position          					= -0.26,-0.11,0.25
strap_orientation       					= -15,-9,110

strap_bone0									= bip01_spine2
strap_bone1									= bip01_spine1

light_disabled								= true
light_color									= 0.6, 0.5, 0.3
light_range									= 0.01
light_var_color								= 0.05
light_var_range								= 0.5
light_time									= 0.2

scope_status								= 2
silencer_status								= 1
grenade_launcher_status						= 0

zoom_enabled								= true
zoom_rotate_time							= 0.2
scope_zoom_factor							= 83.3

scope_name 									= pso1m21
scope_x										= 50
scope_y										= 7

grenade_launcher_name						= wpn_addon_grenade_launcher_m203
grenade_launcher_x							= 109
grenade_launcher_y							= 30

silencer_name								= wpn_addon_silencer
silencer_x									= 221
silencer_y									= 16

silencer_hit_power 							= 0.42
silencer_hit_impulse	 					= 20
silencer_fire_distance 						= 800
silencer_bullet_speed	 					= 295

silencer_light_color						= 0.6,0.5,0.3
silencer_light_range						= 0.01
silencer_light_var_color					= 0.05
silencer_light_var_range					= 0.5
silencer_light_time							= 0.2

[wpn_val_hud]:hud_base
zoom_hide_crosshair							= true
attach_place_idx							= 0
item_visual									= dynamics\weapons\wpn_val\wpn_val_hud.ogf

hands_position								= -0.018636,0.012475,-0.050000
hands_orientation							= 0.543801,-1.000932,2.399998

hands_position_16x9							= -0.018636,0.012475,-0.050000
hands_orientation_16x9						= 0.543801,-1.000932,2.399998

item_position                       		= 0.0, 0.0, 0.0
item_orientation                 			= 0.0, 0.0, 0.0

aim_hud_offset_pos							= -0.047009,0.035265,-0.058558
aim_hud_offset_rot							= -0.008850,0.003485,-0.025893

aim_hud_offset_pos_16x9						= -0.047009,0.035265,-0.058558
aim_hud_offset_rot_16x9						= -0.008850,0.003485,-0.025893

shell_bone                               	= gilza
shell_dir                                	= 0, 1, 0
shell_point                              	= 0, 0, 0

fire_bone                                	= muzzle
fire_bone2                               	= muzzle
fire_point                               	= 0, 0, 0
fire_point2                              	= 0, 0, 0

anm_bore                         			= val_h_bore, val_g_bore
anm_bore_empty                  			= val_h_bore_emp, val_g_bore_empty
anm_hide                             		= val_h_hide, idle, 0.9
anm_idle                              		= val_h_idle, idle
anm_idle_aim                         		= val_idle_aim, idle
anm_idle_aim_moving                 		= val_h_walk, idle, 0.6
anm_idle_aim_moving_slow             		= val_h_walk, idle, 0.5
anm_idle_aim_moving_crouch             		= val_h_walk, idle, 0.4
anm_idle_aim_moving_crouch_slow      		= val_h_walk, idle, 0.3
anm_idle_moving                      		= val_h_walk, idle
anm_idle_moving_slow             			= val_h_walk, idle, 0.8
anm_idle_moving_crouch             			= val_h_walk, idle, 0.6
anm_idle_moving_crouch_slow         		= val_h_walk, idle, 0.4
anm_idle_sprint                    			= val_h_sprint, idle
anm_reload                            		= val_h_reload, val_g_r, 0.6
anm_reload_empty                    		= val_h_reload_empty, val_g_re, 0.6
anm_reload_misfire                   		= val_h_misfire , val_g_mis, 0.6
anm_shots                           		= val_h_shot, val_g_shot
anm_shot_l                          		= val_h_shot, val_g_shot
anm_shots_aim_scope              			= val_h_shot, val_g_shot
anm_shots_last_aim_scope              		= val_h_shot, val_g_shot
anm_changefiremode	        				= val_h_switch, idle, 0.8
anm_show                             		= val_h_draw, idle, 0.7

anm_hide_jammed                       		= val_h_hide, idle_jammed, 0.9
anm_idle_jammed                     		= val_h_idle, idle_jammed
anm_idle_aim_jammed                 		= val_idle_aim, idle_jammed
anm_idle_aim_moving_jammed              	= val_h_walk, idle_jammed, 0.6
anm_idle_aim_moving_slow_jammed       		= val_h_walk, idle_jammed, 0.5
anm_idle_aim_moving_crouch_jammed     		= val_h_walk, idle_jammed, 0.4
anm_idle_aim_moving_crouch_slow_jammed  	= val_h_walk, idle_jammed, 0.3
anm_idle_moving_jammed              		= val_h_walk, idle_jammed
anm_idle_moving_slow_jammed          		= val_h_walk, idle_jammed, 0.8
anm_idle_moving_crouch_jammed         		= val_h_walk, idle_jammed, 0.6
anm_idle_moving_crouch_slow_jammed  		= val_h_walk, idle_jammed, 0.4
anm_idle_sprint_jammed                		= val_h_sprint, idle_jammed
anm_show_jammed                      		= val_h_draw, idle_jammed, 0.7
anm_changefiremode_jammed       			= val_h_switch, idle_jammed, 0.8
anm_bore_jammed                  			= val_h_idle, idle_jammed

;--- Переходы спринта---
anm_idle_sprint_start             			= val_sprint_start, idle, 1
anm_idle_sprint_end              			= val_sprint_end, idle, 0.6
anm_idle_sprint_start_jammed             	= val_sprint_start, idle_jammed, 1
anm_idle_sprint_end_jammed               	= val_sprint_end, idle_jammed, 0.6

;--- Паттерны спринта---

ts_pattern_idle_sprint_start            	= .+, anm_idle_sprint, anm_idle_sprint_start, 1
ts_pattern_idle_sprint_end              	= anm_idle_sprint, ^anm_idle.*, anm_idle_sprint_end
ts_strict_idle_sprint_end_move          	= anm_idle_sprint_start, anm_idle_moving, anm_idle_sprint_end	

gl_hud_offset_pos                   		= 0, 0, 0
gl_hud_offset_pos_16x9              		= 0, 0, 0
gl_hud_offset_rot                   		= 0, 0, 0
gl_hud_offset_rot_16x9             			= 0, 0, 0

lean_hud_offset_pos                 		= 0, 0, 0
lean_hud_offset_rot                 		= 0, 0, 0

grenade_bone                             	= grenade

freelook_z_offset_mul					 	= 0.6
;-----------------------------------------------------------------------------
; Аддоны
;-----------------------------------------------------------------------------
[wpn_val_1p78]:wpn_val
$spawn             							= "weapons\wpn_val_1p78"
hud											= wpn_val_1p78_hud
visual										= dynamics\weapons\wpn_val\wpn_val_1p78.ogf

scope_x										= 69
scope_y										= 1

[wpn_val_1p78_hud]:wpn_val_hud
item_visual                					= dynamics\weapons\wpn_val\wpn_val_1p78_hud.ogf

aim_hud_offset_pos							= -0.048009,0.003265,-0.070558
aim_hud_offset_rot							= -0.011250,0.003835,-0.025893

aim_hud_offset_pos_16x9						= -0.048009,0.003265,-0.070558
aim_hud_offset_rot_16x9						= -0.011250,0.003835,-0.025893

[wpn_val_1pn93-1]:wpn_val
$spawn             							= "weapons\wpn_val_1pn93-1"
hud											= wpn_val_1pn93-1_hud
visual										= dynamics\weapons\wpn_val\wpn_val_1pn93-1.ogf

scope_x										= 32
scope_y										= 6

[wpn_val_1pn93-1_hud]:wpn_val_hud
item_visual                					= dynamics\weapons\wpn_val\wpn_val_1pn93-1_hud.ogf

aim_hud_offset_pos							= -0.036009,-0.002735,-0.029558
aim_hud_offset_rot							= -0.000550,0.012235,-0.013893

aim_hud_offset_pos_16x9						= -0.036009,-0.002735,-0.029558
aim_hud_offset_rot_16x9						= -0.000550,0.012235,-0.013893

[wpn_val_ekp]:wpn_val
$spawn             							= "weapons\wpn_val_ekp"
hud											= wpn_val_ekp_hud
visual										= dynamics\weapons\wpn_val\wpn_val_ekp.ogf

scope_x										= 71
scope_y										= 6

[wpn_val_ekp_hud]:wpn_val_hud
item_visual                					= dynamics\weapons\wpn_val\wpn_val_ekp_hud.ogf

aim_hud_offset_pos							= -0.047009,0.005265,-0.071558
aim_hud_offset_rot							= 0.014250,0.004735,-0.025893

aim_hud_offset_pos_16x9						= -0.047009,0.005265,-0.071558
aim_hud_offset_rot_16x9						= 0.014250,0.004735,-0.025893

[wpn_val_kobra]:wpn_val
$spawn             							= "weapons\wpn_val_kobra"
hud											= wpn_val_kobra_hud
visual										= dynamics\weapons\wpn_val\wpn_val_kobra.ogf

scope_x										= 75
scope_y										= 10

[wpn_val_kobra_hud]:wpn_val_hud
item_visual                					= dynamics\weapons\wpn_val\wpn_val_kobra_hud.ogf

aim_hud_offset_pos							= -0.047009,0.001265,-0.075558
aim_hud_offset_rot							= -0.005050,0.005835,-0.025893

aim_hud_offset_pos_16x9						= -0.047009,0.001265,-0.075558
aim_hud_offset_rot_16x9						= -0.005050,0.005835,-0.025893

[wpn_val_okp]:wpn_val
$spawn             							= "weapons\wpn_val_okp"
hud											= wpn_val_okp_hud
visual										= dynamics\weapons\wpn_val\wpn_val_okp.ogf

scope_x										= 78
scope_y										= 8

[wpn_val_okp_hud]:wpn_val_hud
item_visual                					= dynamics\weapons\wpn_val\wpn_val_okp_hud.ogf

aim_hud_offset_pos							= -0.043009,0.023265,-0.076558
aim_hud_offset_rot							= 0.028550,0.004885,-0.025893

aim_hud_offset_pos_16x9						= -0.043009,0.023265,-0.076558
aim_hud_offset_rot_16x9						= 0.028550,0.004885,-0.025893

[wpn_val_pso1m21]:wpn_val
$spawn             							= "weapons\wpn_val_pso1m21"
hud											= wpn_val_pso1m21_hud

scope_x										= 50
scope_y										= 7

[wpn_val_pso1m21_hud]:wpn_val_hud
aim_hud_offset_pos							= -0.041009,0.006265,-0.051558
aim_hud_offset_rot							= -0.004100,0.006385,-0.025893

aim_hud_offset_pos_16x9						= -0.041009,0.006265,-0.051558
aim_hud_offset_rot_16x9						= -0.004100,0.006385,-0.025893
