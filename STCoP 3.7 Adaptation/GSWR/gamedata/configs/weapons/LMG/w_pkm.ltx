; Пулемет Калашников модернизированый (6П6)
;-(TrickSR, Ga2z)-----------------------------------------
; калибр 									7.62x54 мм
; длина ствола 								645 мм
; магазин									100, 200, 250 на ленте
; вес без магазина							7.5 кг
; вес с пустым коробом на 100 патронов		8.1 кг
; вес с пустым коробом на 200 патронов		9.94 кг
; максимальная дальность стрельбы			3800 м
; эффективная дальность стрельбы			800 м
; прицельная дальность						1500 м
; дульная скорость пули						825 м/с
; темп стрельбы								650 в/м
;---------------------------------------------------
[wpn_pkm]:weapon_probability,default_weapon_params,wpn_pkm_sounds
GroupControlSection							= spawn_group
$spawn										= "weapons\pkm"
$npc										= on
$prefetch									= 8
scheduled									= off
cform										= skeleton
class										= WP_AK74
description									= st_wpn_pkm_descr

scopes 										= none
parent_section  							= wpn_pkm

ef_main_weapon_type							= 2
ef_weapon_type								= 10

sprint_allowed								= true
	
bullet_bones        						= bullet_1,bullet_2,bullet_3,bullet_4,bullet_5,bullet_6,bullet_7,bullet_8,bullet_9,bullet_10,bullet_11,bullet_12
      
inv_name									= st_wpn_pkm
inv_name_short								= st_wpn_pkm

inv_grid_width								= 6
inv_grid_height								= 2
inv_grid_x									= 0
inv_grid_y									= 36

upgr_icon_x									= 600
upgr_icon_y									= 1400
upgr_icon_width								= 300
upgr_icon_height 							= 100

kill_msg_x									= 80
kill_msg_y									= 59
kill_msg_width								= 87
kill_msg_height								= 24

cost										= 70000
weapon_class								= heavy_weapon
inv_weight									= 8.1
hud											= wpn_pkm_hud
visual										= dynamics\weapons\wpn_pkm\wpn_pkm.ogf

upgrades               		 				= up_gr_firstab_pkm, up_gr_seconab_pkm, up_gr_thirdab_pkm, up_gr_fourtab_pkm, up_gr_fifthab_pkm
installed_upgrades      					=
upgrade_scheme          					= upgrade_scheme_pkm

ph_mass										= 8
ammo_class									= ammo_pkm_100

startup_ammo								= 100
ammo_current								= 600
ammo_elapsed								= 100
ammo_limit									= 700
ammo_mag_size								= 100

fire_modes									= 15, -1

grenade_class								= ammo_m209

launch_speed								= 0
hand_dependence								= 1
single_handed								= 0

hit_power									= 0.55
;hit_impulse								= 10
hit_type									= fire_wound
fire_distance								= 1000
bullet_speed								= 825
rpm											= 650
rpm_empty_click								= 200

use_aim_bullet								= false
time_to_aim									= 5.0

misfire_probability							= 0.005
misfire_start_condition						= 0.6
misfire_end_condition						= 0.1
misfire_start_prob	 						= 0.002
misfire_end_prob	 						= 0.03
condition_shot_dec							= 0.0008
condition_queue_shot_dec					= 0.0009

zoom_dof									= 0.5,1,180
reload_dof									= 0,0.5,5,1.7

fire_dispersion_base						= 0.35
fire_dispersion_condition_factor			= 2
control_inertion_factor						= 2.0f
crosshair_inertion							= 7.7

cam_return									= 0
cam_relax_speed         					= 15
cam_relax_speed_ai      					= 360
cam_dispersion          					= 1.0
cam_dispersion_inc      					= 1.3
cam_dispersion_frac     					= 1.0
cam_max_angle           					= 5.0
cam_max_angle_horz      					= 15.0
cam_step_angle_horz     					= 1.8

zoom_cam_relax_speed						= 15
zoom_cam_relax_speed_ai						= 360
zoom_cam_dispersion							= 0.23
zoom_cam_dispersion_inc						= 0.18
zoom_cam_dispersion_frac					= 0.7
zoom_cam_max_angle							= 10
zoom_cam_max_angle_horz						= 50
zoom_cam_step_angle_horz					= 0.3

PDM_disp_base								= 1
PDM_disp_vel_factor							= 3
PDM_disp_accel_factor						= 3
PDM_disp_crouch								= 1
PDM_disp_crouch_no_acc						= 1

min_radius									= 30
max_radius									= 90

holder_range_modifier						= 1
holder_fov_modifier							= 1

hit_probability_gd_novice					= 0.45
hit_probability_gd_stalker					= 0.55
hit_probability_gd_veteran					= 0.65
hit_probability_gd_master					= 0.75

slot										= 2
animation_slot								= 2

position                   					= -0.016,-0.005,-0.01
orientation                 				= 0,0,0

fire_point                  				= 0,0.05,0.75
fire_point2                 				= 0,0.05,0.75

flame_particles								= weapons\generic_weapon05
smoke_particles								= ghost_particles\weapons\flame_eft_ak
grenade_flame_particles						= weapons\generic_weapon01
silencer_smoke_particles   					= ghost_particles\weapons\generic_smoke_eft_sil

shell_point									= -0.02,0.167,0.082
shell_dir									= 0,0,0.4
shell_particles	 							= weapons\762x54l

strap_position								= -0.26,-0.11,0.25
strap_orientation							= -15,-9,110
strap_bone0									= bip01_spine2
strap_bone1									= bip01_spine1

light_disabled								= false
light_color									= 0.6,0.5,0.3
light_range									= 5
light_var_color								= 0.05
light_var_range								= 0.5
light_time									= 0.2

scope_status								= 0
silencer_status								= 0
grenade_launcher_status						= 0

zoom_enabled								= true
zoom_rotate_time							= 0.3
scope_zoom_factor							= 83.3

silencer_hit_power							= 0
silencer_hit_impulse						= 1
silencer_fire_distance						= 1
silencer_bullet_speed						= 1

silencer_light_color						= 0.6,0.5,0.3
silencer_light_range						= 0.01
silencer_light_var_color					= 0.05
silencer_light_var_range					= 0.5
silencer_light_time							= 0.2

[wpn_pkm_hud]:hud_base
zoom_hide_crosshair     					= true
attach_place_idx        					= 0
item_visual             					= dynamics\weapons\wpn_pkm\wpn_pkm_hud.ogf

hands_position								= -0.008400,-0.005340,0.025950
hands_orientation							= 0,0,0

hands_position_16x9							= -0.008400,-0.005340,0.025950
hands_orientation_16x9						= 0,0,0

item_position								= 0,0,0
item_orientation							= 0,0,0

aim_hud_offset_pos							= -0.054500,0.030380,-0.021996
aim_hud_offset_rot							= -0.001140,0.000325,-0.099879

aim_hud_offset_pos_16x9						= -0.054500,0.030380,-0.021996
aim_hud_offset_rot_16x9						= -0.001140,0.000325,-0.099879

shell_bone                 	 				= gilza
shell_dir                   				= 0,11,0
shell_point                 				= 0,10,0
        
fire_bone                   				= muzzle
fire_bone2                  				= wpn_body

fire_point                  				= 0,0,0
fire_point2                 				= 0,0,0

anm_hide                    				= wpn_hand_pkm_siber_out,              idle
anm_idle                    				= wpn_hand_pkm_siber_idle,             idle
anm_idle_aim                				= pkm_idle_aim, idle
anm_idle_aim_moving         				= wpn_hand_pkm_siber_idle, idle, 2.0
anm_idle_aim_moving_slow  					= wpn_hand_pkm_siber_idle, idle, 1.75
anm_idle_aim_moving_crouch  				= wpn_hand_pkm_siber_idle, idle, 1.5
anm_idle_aim_moving_crouch_slow  			= wpn_hand_pkm_siber_idle, idle, 1.25
anm_idle_moving             				= wpn_hand_pkm_siber_walk, wpn_pkm_siber_walk
anm_idle_moving_slow             			= wpn_hand_pkm_siber_walk, wpn_pkm_siber_walk, 0.8
anm_idle_moving_crouch      				= wpn_hand_pkm_siber_walk, wpn_pkm_siber_walk, 0.6
anm_idle_moving_crouch_slow      			= wpn_hand_pkm_siber_walk, wpn_pkm_siber_walk, 0.4
anm_idle_sprint             				= wpn_hand_pkm_siber_run, wpn_pkm_siber_run
anm_reload                  				= wpn_hand_pkm_siber_reload,           wpn_pkm_siber_reload
anm_reload_misfire          				= wpn_hand_pkm_siber_misfire,          wpn_pkm_siber_misfire
anm_reload_empty            				= wpn_hand_pkm_siber_reload_empty,     wpn_pkm_siber_reload_empty
anm_shots                   				= wpn_hand_pkm_siber_shoot,            wpn_pkm_siber_shoot
anm_show                    				= wpn_hand_pkm_siber_in,               wpn_pkm_siber_in
anm_bore                    				= wpn_hand_pkm_siber_boring,           wpn_pkm_siber_boring
;anm_shots_aim               				= wpn_hand_pkm_siber_shoot_aim,        wpn_pkm_siber_shoot
;anm_idle_aim_start          				= wpn_hand_pkm_siber_in_aim,           wpn_pkm_siber_in_aim ; 1.06
;anm_idle_aim_end            				= wpn_hand_pkm_siber_out_aim,          wpn_pkm_siber_out_aim ; 1.06

;EMPTY
;--------------------------------------------------------------------
anm_hide_empty                  			= wpn_hand_pkm_siber_out, wpn_pkm_siber_idle_empty
anm_idle_empty								= wpn_hand_pkm_siber_idle, wpn_pkm_siber_idle_empty
anm_idle_aim_empty							= pkm_idle_aim, wpn_pkm_siber_idle_empty
anm_idle_aim_moving_empty					= wpn_hand_pkm_siber_idle, wpn_pkm_siber_idle_empty, 2.0
anm_idle_aim_moving_slow_empty   			= wpn_hand_pkm_siber_idle, wpn_pkm_siber_idle_empty, 1.75
anm_idle_aim_moving_crouch_empty   			= wpn_hand_pkm_siber_idle, wpn_pkm_siber_idle_empty, 1.5
anm_idle_aim_moving_crouch_slow_empty   	= wpn_hand_pkm_siber_idle, wpn_pkm_siber_idle_empty, 1.25
anm_idle_moving_empty						= wpn_hand_pkm_siber_walk, wpn_pkm_siber_idle_empty
anm_idle_moving_slow_empty					= wpn_hand_pkm_siber_walk, wpn_pkm_siber_idle_empty, 0.8
anm_idle_moving_crouch_empty				= wpn_hand_pkm_siber_walk, wpn_pkm_siber_idle_empty, 0.6
anm_idle_moving_crouch_slow_empty			= wpn_hand_pkm_siber_walk, wpn_pkm_siber_idle_empty, 0.4
anm_idle_sprint_empty						= wpn_hand_pkm_siber_run, wpn_pkm_siber_idle_empty
anm_shot_l									= wpn_hand_pkm_siber_shoot, wpn_pkm_siber_shoot_empty
anm_show_empty								= wpn_hand_pkm_siber_in, wpn_pkm_siber_idle_empty
anm_bore_empty								= wpn_hand_pkm_siber_boring, wpn_pkm_siber_idle_empty
;anm_idle_aim_start_empty					= wpn_hand_pkm_siber_in_aim, wpn_pkm_siber_idle_empty
;anm_idle_aim_end_empty						= wpn_hand_pkm_siber_out_aim, wpn_pkm_siber_idle_empty
;anm_shots_aim_l							= wpn_hand_pkm_siber_shoot_aim, wpn_pkm_siber_shoot_empty

gl_hud_offset_pos 							= 0,0,0
gl_hud_offset_rot 							= 0,0,0

gl_hud_offset_pos_16x9 						= 0,0,0
gl_hud_offset_rot_16x9 						= 0,0,0

lean_hud_offset_pos							= 0,0,0
lean_hud_offset_rot							= 0,0,0
;-----------------------------------------------------------------------------
; Уникальные
;-----------------------------------------------------------------------------
[wpn_pkm_zulus]:wpn_pkm,wpn_pkp_sounds
$spawn										= "weapons\pkm_zulus"

description									= st_wpn_pkp_descr

scopes 										= none
parent_section  							= wpn_pkm_zulus

inv_name									= st_wpn_pkp
inv_name_short								= st_wpn_pkp

inv_grid_x									= 0
inv_grid_y									= 34

upgr_icon_x									= 600
upgr_icon_y									= 1500
upgr_icon_width								= 300
upgr_icon_height 							= 100

cost										= 90000
weapon_class								= heavy_weapon
inv_weight									= 8.8
hud											= wpn_pkp_hud
visual										= dynamics\weapons\wpn_pkp\wpn_pkp.ogf

hit_power									= 0.69
fire_distance								= 1000

fire_dispersion_base						= 0.3

position									= -0.027,-0.102,0.025

fire_point              					= 0.0, 0.158, 0.75
fire_point2             					= 0.0, 0.158, 0.75

silencer_status								= 2

silencer_name								= sil_tgp-v
silencer_x                  				= 247
silencer_y                  				= 11

[wpn_pkp_hud]:wpn_pkm_hud
item_visual             					= dynamics\weapons\wpn_pkp\wpn_pkp_hud.ogf

aim_hud_offset_pos							= -0.054300,0.029880,-0.021996
aim_hud_offset_rot							= -0.002340,-0.000765,-0.099879

aim_hud_offset_pos_16x9						= -0.054300,0.029880,-0.021996
aim_hud_offset_rot_16x9						= -0.002340,-0.000765,-0.099879

anm_hide                    				= wpn_hand_pkm_siber_out,  idle
anm_idle                    				= wpn_hand_pkm_siber_idle, idle
anm_idle_aim                				= pkm_idle_aim, idle
anm_idle_aim_moving         				= wpn_hand_pkm_siber_idle, idle, 2.0
anm_idle_aim_moving_slow  					= wpn_hand_pkm_siber_idle, idle, 1.75
anm_idle_aim_moving_crouch  				= wpn_hand_pkm_siber_idle, idle, 1.5
anm_idle_aim_moving_crouch_slow  			= wpn_hand_pkm_siber_idle, idle, 1.25
anm_idle_moving             				= wpn_hand_pkm_siber_walk, wpn_pkp_siber_walk
anm_idle_moving_slow             			= wpn_hand_pkm_siber_walk, wpn_pkp_siber_walk, 0.8
anm_idle_moving_crouch      				= wpn_hand_pkm_siber_walk, wpn_pkp_siber_walk, 0.6
anm_idle_moving_crouch_slow      			= wpn_hand_pkm_siber_walk, wpn_pkp_siber_walk, 0.4
anm_idle_sprint             				= wpn_hand_pkm_siber_run, wpn_pkp_siber_run
anm_reload                  				= wpn_hand_pkm_siber_reload,           wpn_pkp_siber_reload
anm_reload_misfire          				= wpn_hand_pkp_siber_misfire,          wpn_pkp_siber_misfire
anm_reload_empty            				= wpn_hand_pkm_siber_reload_empty,     wpn_pkp_siber_reload_empty
anm_shots                   				= wpn_hand_pkm_siber_shoot,            wpn_pkp_siber_shoot
anm_show                    				= wpn_hand_pkm_siber_in,               wpn_pkp_siber_in
anm_bore                    				= wpn_hand_pkm_siber_boring,           wpn_pkp_siber_boring
;anm_shots_aim               				= wpn_hand_pkm_siber_shoot_aim,        wpn_pkp_siber_shoot
;anm_idle_aim_start          				= wpn_hand_pkm_siber_in_aim,           wpn_pkp_siber_in_aim ; 1.06
;anm_idle_aim_end            				= wpn_hand_pkm_siber_out_aim,          wpn_pkp_siber_out_aim ; 1.06

;EMPTY
;--------------------------------------------------------------------
anm_hide_empty                  			= wpn_hand_pkm_siber_out, wpn_pkp_siber_idle_empty
anm_idle_empty								= wpn_hand_pkm_siber_idle, wpn_pkp_siber_idle_empty
anm_idle_aim_empty							= pkm_idle_aim, wpn_pkp_siber_idle_empty
anm_idle_aim_moving_empty					= wpn_hand_pkm_siber_idle, wpn_pkp_siber_idle_empty, 2.0
anm_idle_aim_moving_slow_empty   			= wpn_hand_pkm_siber_idle, wpn_pkp_siber_idle_empty, 1.75
anm_idle_aim_moving_crouch_empty   			= wpn_hand_pkm_siber_idle, wpn_pkp_siber_idle_empty, 1.5
anm_idle_aim_moving_crouch_slow_empty   	= wpn_hand_pkm_siber_idle, wpn_pkp_siber_idle_empty, 1.25
anm_idle_moving_empty						= wpn_hand_pkm_siber_walk, wpn_pkp_siber_idle_empty
anm_idle_moving_slow_empty					= wpn_hand_pkm_siber_walk, wpn_pkp_siber_idle_empty, 0.8
anm_idle_moving_crouch_empty				= wpn_hand_pkm_siber_walk, wpn_pkp_siber_idle_empty, 0.6
anm_idle_moving_crouch_slow_empty			= wpn_hand_pkm_siber_walk, wpn_pkp_siber_idle_empty, 0.4
anm_idle_sprint_empty						= wpn_hand_pkm_siber_run, wpn_pkp_siber_idle_empty
anm_shot_l									= wpn_hand_pkm_siber_shoot, wpn_pkp_siber_shoot_empty
anm_show_empty								= wpn_hand_pkm_siber_in, wpn_pkp_siber_idle_empty
anm_bore_empty								= wpn_hand_pkm_siber_boring, wpn_pkp_siber_idle_empty
;anm_idle_aim_start_empty					= wpn_hand_pkm_siber_in_aim, wpn_pkp_siber_idle_empty
;anm_idle_aim_end_empty						= wpn_hand_pkm_siber_out_aim, wpn_pkp_siber_idle_empty
;anm_shots_last_aim							= wpn_hand_pkm_siber_shoot_aim, wpn_pkp_siber_shoot_empty

;-----------------------------------------------------------------------------
; Аддоны
;-----------------------------------------------------------------------------
[wpn_pkm_zulus_ekp]:wpn_pkm_zulus
$spawn             							= "weapons\wpn_pkm_zulus_ekp"
hud											= wpn_pkp_ekp_hud
visual										= dynamics\weapons\wpn_pkp\wpn_pkp_ekp.ogf

scope_x										= 67
scope_y										= 0

[wpn_pkp_ekp_hud]:wpn_pkp_hud
item_visual                					= dynamics\weapons\wpn_pkp\wpn_pkp_ekp_hud.ogf
